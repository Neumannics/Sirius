{% extends 'console.html' %}

{% block workspace %}
<div class="flex mt-[10vh] flex-col w-full">
    <div class="flex justify-start">
        {% if 'C-E' in console.perms %}
            <a href="{% url 'team:session:create_event' pk=console.team.pk %}"><button class="save-btn">Create</button></a>
        {% endif %}
    </div>
    <ul>
        {% for event in events %}
            <li>
                <article class="session">
                    <div class="session-head">
                        <div>
                            <div class="flex justify-between">
                                <div class="session-time">
                                    <p class="start-date">
                                        {{ event.start|date:'d' }}
                                    </p>
                                    <div>
                                        <p class="start-month">
                                            {{ event.start|date:'b' }}
                                        </p>
                                        <p class="time">
                                            {{ event.start|date:'dS' }} - {{ event.end|date:'dS' }} | {{ event.start|date:'H:m' }} - {{ event.end|date:'H:m' }}
                                        </p>
                                    </div>
                                </div>
                                <div class="session-control">
                                    {% if 'U-E' in console.perms %}
                                        <a href="{% url 'team:session:update_event' e_pk=event.pk pk=console.team.pk %}"><i class="fa-solid fa-pen-clip text-green"></i></a>
                                    {% endif %}
                                    {% if 'D-E' in console.perms %}
                                        <a href="{% url 'team:session:delete_event' e_pk=event.pk pk=console.team.pk %}"><i class="fa-solid fa-trash-can text-red"></i></a>
                                    {% endif %}
                                </div>
                            </div>
                            <div>
                                <p class="session-title">
                                    {{ event.title }}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <p class="session-desc">{{ event.description }}</p>
                    </div>
                </article>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}